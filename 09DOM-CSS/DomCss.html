<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DomCss</title>
</head>
<style>
  .intro {
    font-weight: bold;
    font-size: 1.2em;
  }
</style>

<body>

  <h1>Hold the front page</h1>
  <p>p1 p1 p1 p1 p1</p>
  <p>p2 p2 p2 p2 p2</p>
  <p>p3 p3 p3 p3 p3</p>

  <h1>Extra!</h1>
  <p>p1 p1 p1 p1 p1</p>
  <p>p2 p2 p2 p2 p2</p>
  <p>p3 p3 p3 p3 p3</p>





  <script src="./addLoadEvent.js"></script>
  <script>
    function addClass(element, value) {
      if (!element.className) {
        element.className = value
      } else {
        var newClassName = element.className
        newClassName += ' '
        newClassName += value
        element.className = newClassName
      }
    }

    // function styleHeaderSibings() {
    //   if (!document.getElementsByTagName) return false
    //   var headers = document.getElementsByTagName('h1')
    //   var elem
    //   for (var i = 0; i < headers.length; i++) {
    //     elem = getNextElement(headers[i].nextSibling)

    //     elem.style.fontWeight = 'bold'
    //     elem.style.fontSize = '1.2em'
    //   }
    // }

    function styleHeaderSibings() {
      if (!document.getElementsByTagName) return false
      var headers = document.getElementsByTagName('h1')
      var elem
      for (var i = 0; i < headers.length; i++) {
        elem = getNextElement(headers[i].nextSibling)
        addClass(elem, 'intro')
      }
    }

    // 获取某个节点的最后一个元素节点
    function getNextElement(node) {
      if (node.nodeType === 1) return node
      if (node.nextSibling) {
        return getNextElement(node.nextSibling)
      }
      return null
    }


    addLoadEvent(getNextElement)
    addLoadEvent(styleHeaderSibings)
  </script>
</body>

</html>